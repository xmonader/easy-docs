!function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function o(e){e.forEach(t)}function l(e){return"function"==typeof e}function r(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function s(e,t){e.appendChild(t)}function c(e,t,n){e.insertBefore(t,n||null)}function i(e){e.parentNode.removeChild(e)}function a(e){return document.createElement(e)}function u(e){return document.createTextNode(e)}function d(){return u(" ")}function p(){return u("")}function f(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function m(e){return function(t){return t.preventDefault(),e.call(this,t)}}function h(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function y(e){return""===e?null:+e}function b(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function g(e,t){e.value=null==t?"":t}function v(e,t,n,o){e.style.setProperty(t,n,o?"important":"")}function k(e,t){for(let n=0;n<e.options.length;n+=1){const o=e.options[n];if(o.__value===t)return void(o.selected=!0)}e.selectedIndex=-1}function w(e){const t={};for(const n of e)t[n.name]=n.value;return t}let x;function $(e){x=e}const S=[],_=[],M=[],N=[],C=Promise.resolve();let E=!1;function z(e){M.push(e)}let R=!1;const D=new Set;function P(){if(!R){R=!0;do{for(let e=0;e<S.length;e+=1){const t=S[e];$(t),j(t.$$)}for($(null),S.length=0;_.length;)_.pop()();for(let e=0;e<M.length;e+=1){const t=M[e];D.has(t)||(D.add(t),t())}M.length=0}while(S.length);for(;N.length;)N.pop()();E=!1,R=!1,D.clear()}}function j(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(z)}}const K=new Set;function O(e,t){e&&e.i&&(K.delete(e),e.i(t))}function L(e,t){e.d(1),t.delete(e.key)}function T(e,t,n,o,l,r,s,c,i,a,u,d){let p=e.length,f=r.length,m=p;const h={};for(;m--;)h[e[m].key]=m;const y=[],b=new Map,g=new Map;for(m=f;m--;){const e=d(l,r,m),c=n(e);let i=s.get(c);i?o&&i.p(e,t):(i=a(c,e),i.c()),b.set(c,y[m]=i),c in h&&g.set(c,Math.abs(m-h[c]))}const v=new Set,k=new Set;function w(e){O(e,1),e.m(c,u),s.set(e.key,e),u=e.first,f--}for(;p&&f;){const t=y[f-1],n=e[p-1],o=t.key,l=n.key;t===n?(u=t.first,p--,f--):b.has(l)?!s.has(o)||v.has(o)?w(t):k.has(l)?p--:g.get(o)>g.get(l)?(k.add(o),w(t)):(v.add(l),p--):(i(n,s),p--)}for(;p--;){const t=e[p];b.has(t.key)||i(t,s)}for(;f;)w(y[f-1]);return y}function I(e,t){-1===e.$$.dirty[0]&&(S.push(e),E||(E=!0,C.then(P)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Y(r,s,c,a,u,d,p,f=[-1]){const m=x;$(r);const h=r.$$={fragment:null,ctx:null,props:d,update:e,not_equal:u,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(s.context||(m?m.$$.context:[])),callbacks:n(),dirty:f,skip_bound:!1,root:s.target||m.$$.root};p&&p(h.root);let y=!1;if(h.ctx=c?c(r,s.props||{},((e,t,...n)=>{const o=n.length?n[0]:t;return h.ctx&&u(h.ctx[e],h.ctx[e]=o)&&(!h.skip_bound&&h.bound[e]&&h.bound[e](o),y&&I(r,e)),t})):[],h.update(),y=!0,o(h.before_update),h.fragment=!!a&&a(h.ctx),s.target){if(s.hydrate){const e=function(e){return Array.from(e.childNodes)}(s.target);h.fragment&&h.fragment.l(e),e.forEach(i)}else h.fragment&&h.fragment.c();s.intro&&O(r.$$.fragment),function(e,n,r,s){const{fragment:c,on_mount:i,on_destroy:a,after_update:u}=e.$$;c&&c.m(n,r),s||z((()=>{const n=i.map(t).filter(l);a?a.push(...n):o(n),e.$$.on_mount=[]})),u.forEach(z)}(r,s.target,s.anchor,s.customElement),P()}$(m)}let F;var H;"function"==typeof HTMLElement&&(F=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){const{on_mount:e}=this.$$;this.$$.on_disconnect=e.map(t).filter(l);for(const e in this.$$.slotted)this.appendChild(this.$$.slotted[e])}attributeChangedCallback(e,t,n){this[e]=n}disconnectedCallback(){o(this.$$.on_disconnect)}$destroy(){!function(e,t){const n=e.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}});var B=new Uint8Array(16);function A(){if(!H&&!(H="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return H(B)}var U=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function V(e){return"string"==typeof e&&U.test(e)}for(var W,q,G=[],J=0;J<256;++J)G.push((J+256).toString(16).substr(1));function Q(e,t,n){var o=(e=e||{}).random||(e.rng||A)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){n=n||0;for(var l=0;l<16;++l)t[n+l]=o[l];return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(G[e[t+0]]+G[e[t+1]]+G[e[t+2]]+G[e[t+3]]+"-"+G[e[t+4]]+G[e[t+5]]+"-"+G[e[t+6]]+G[e[t+7]]+"-"+G[e[t+8]]+G[e[t+9]]+"-"+G[e[t+10]]+G[e[t+11]]+G[e[t+12]]+G[e[t+13]]+G[e[t+14]]+G[e[t+15]]).toLowerCase();if(!V(n))throw TypeError("Stringified UUID is invalid");return n}(o)}class X{constructor(e="",t="",n="dev"){this.mnemonics=e,this.storeSecret=t,this.networkEnv=n}get valid(){const{mnemonics:e,storeSecret:t}=this;return""!==e&&""!==t}}function Z(e){const t=+e;return"number"==typeof t&&!isNaN(t)&&t>=0&&t.toFixed(0)===t.toString()}class ee{constructor(e=Q(),t=e.split("-")[0],n=0,o=0,l=0,r=!1,s=0,c=0,i=!0){this.id=e,this.name=t,this.node=n,this.cpu=o,this.diskSize=l,this.publicIp=r,this.memory=s,this.rootFsSize=c,this.plantery=i}get valid(){const{name:e,node:t,cpu:n,diskSize:o,memory:l,rootFsSize:r}=this;return""!==e&&Z(t)&&Z(n)&&Z(o)&&Z(l)&&Z(r)}}class te extends ee{}class ne extends ee{}class oe{constructor(e="",t="10.20.0.0/16"){this.name=e,this.ipRange=t}get valid(){const{name:e,ipRange:t}=this;return""!==e&&""!==t}}class le{constructor(e=Q(),t=new te,n=[new ne],o=new oe,l="",r="",s="",c="",i="",a=new X){this.id=e,this.master=t,this.workers=n,this.network=o,this.name=l,this.secret=r,this.sshKey=s,this.metadata=c,this.description=i,this.configs=a}get valid(){const{secret:e,sshKey:t,master:n,workers:o,configs:l,network:r}=this;return""!==e&&""!==t&&l.valid&&n.valid&&r.valid&&o.reduce(((e,t)=>e&&t.valid),!0)}}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */const{NetworkModel:re}=null!==(q=null===(W=window.configs)||void 0===W?void 0:W.grid3_client)&&void 0!==q?q:{};var se,ce,ie,ae;const{HTTPMessageBusClient:ue}=null!==(ce=null===(se=window.configs)||void 0===se?void 0:se.client)&&void 0!==ce?ce:{},{GridClient:de,K8SModel:pe,KubernetesNodeModel:fe}=null!==(ae=null===(ie=window.configs)||void 0===ie?void 0:ie.grid3_client)&&void 0!==ae?ae:{};async function me(e){const{configs:t,master:n,workers:o,network:l}=e,r=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(n[o[l]]=e[o[l]])}return n}(e,["configs","master","workers","network"]),{secret:s,sshKey:c,description:i,metadata:a,name:u}=r,{mnemonics:d,storeSecret:p,networkEnv:f}=t,m=new ue(0,""),h=new de(f,d,await async function(e){}(),p,m,void 0,"tfkvstore"),y=[he(n)],b=o.map(he),g=new pe;return g.name=u,g.secret=s,g.network=function(e){const t=new re;return t.name=e.name,t.ip_range=e.ipRange,t}(l),g.masters=y,g.workers=b,g.metadata=a,g.description=i,g.ssh_key=c,h.connect().then((()=>h.k8s.deploy(g)))}function he(e){const t=new fe;return t.name=e.name,t.node_id=e.node,t.cpu=e.cpu,t.disk_size=e.diskSize,t.memory=e.memory,t.public_ip=e.publicIp,t.rootfs_size=e.rootFsSize,t.planetary=e.plantery,t}function ye(e,t,n){const o=e.slice();return o[31]=t[n],o[32]=t,o[33]=n,o}function be(e,t,n){const o=e.slice();return o[34]=t[n],o[35]=t,o[36]=n,o}function ge(e,t,n){const o=e.slice();return o[31]=t[n],o[37]=t,o[38]=n,o}function ve(e,t,n){const o=e.slice();return o[31]=t[n],o[39]=t,o[40]=n,o}function ke(e,t,n){const o=e.slice();return o[31]=t[n],o[41]=t,o[42]=n,o}function we(e,t,n){const o=e.slice();return o[31]=t[n],o[43]=t,o[44]=n,o}function xe(e,t,n){const o=e.slice();return o[45]=t[n],o}function $e(e){let t,n,o,l,r,u,m,y,b,g,w,x,$,S,_=[],M=new Map,N=e[10];const C=e=>e[45].label;for(let t=0;t<N.length;t+=1){let n=xe(e,N,t),o=C(n);M.set(o,_[t]=Ne(o,n))}let E="Base"===e[1]&&Ce(e),R="Master"===e[1]&&Pe(e),D="Workers"===e[1]&&Ke(e),P="Configs"===e[1]&&Te(e);return{c(){t=a("div"),n=a("select"),o=a("option"),o.textContent="Testnet",l=a("option"),l.textContent="Devnet",r=d(),u=a("div"),m=a("ul");for(let e=0;e<_.length;e+=1)_[e].c();y=d(),E&&E.c(),b=d(),R&&R.c(),g=d(),D&&D.c(),w=d(),P&&P.c(),x=p(),o.__value="test",o.value=o.__value,l.__value="dev",l.value=l.__value,void 0===e[0].configs.networkEnv&&z((()=>e[12].call(n))),h(t,"class","select mb-4"),v(t,"display","flex"),v(t,"justify-content","flex-end"),h(u,"class","tabs is-centered")},m(i,a){c(i,t,a),s(t,n),s(n,o),s(n,l),k(n,e[0].configs.networkEnv),c(i,r,a),c(i,u,a),s(u,m);for(let e=0;e<_.length;e+=1)_[e].m(m,null);c(i,y,a),E&&E.m(i,a),c(i,b,a),R&&R.m(i,a),c(i,g,a),D&&D.m(i,a),c(i,w,a),P&&P.m(i,a),c(i,x,a),$||(S=f(n,"change",e[12]),$=!0)},p(e,t){1&t[0]&&k(n,e[0].configs.networkEnv),1026&t[0]&&(N=e[10],_=T(_,t,C,1,e,N,M,m,L,Ne,null,xe)),"Base"===e[1]?E?E.p(e,t):(E=Ce(e),E.c(),E.m(b.parentNode,b)):E&&(E.d(1),E=null),"Master"===e[1]?R?R.p(e,t):(R=Pe(e),R.c(),R.m(g.parentNode,g)):R&&(R.d(1),R=null),"Workers"===e[1]?D?D.p(e,t):(D=Ke(e),D.c(),D.m(w.parentNode,w)):D&&(D.d(1),D=null),"Configs"===e[1]?P?P.p(e,t):(P=Te(e),P.c(),P.m(x.parentNode,x)):P&&(P.d(1),P=null)},d(e){e&&i(t),e&&i(r),e&&i(u);for(let e=0;e<_.length;e+=1)_[e].d();e&&i(y),E&&E.d(e),e&&i(b),R&&R.d(e),e&&i(g),D&&D.d(e),e&&i(w),P&&P.d(e),e&&i(x),$=!1,S()}}}function Se(t){let n;return{c(){n=a("div"),n.textContent="> Failed to deploy K8S.",h(n,"class","notification is-danger")},m(e,t){c(e,n,t)},p:e,d(e){e&&i(n)}}}function _e(t){let n;return{c(){n=a("div"),n.textContent="> Successfully deployed K8S.",h(n,"class","notification is-success")},m(e,t){c(e,n,t)},p:e,d(e){e&&i(n)}}}function Me(e){let t;function n(e,t){return e[5]?Be:He}let o=n(e),l=o(e);return{c(){t=a("div"),l.c(),h(t,"class","notification is-info")},m(e,n){c(e,t,n),l.m(t,null)},p(e,r){o===(o=n(e))&&l?l.p(e,r):(l.d(1),l=o(e),l&&(l.c(),l.m(t,null)))},d(e){e&&i(t),l.d()}}}function Ne(e,t){let n,o,l,r,p,y,b,g,v=t[45].label+"";function k(){return t[13](t[45])}return{key:e,first:null,c(){n=a("li"),o=a("a"),l=a("span"),r=u(v),p=d(),h(o,"href","#!"),h(n,"class",y=t[1]===t[45].label?"is-active":""),this.first=n},m(e,t){c(e,n,t),s(n,o),s(o,l),s(l,r),s(n,p),b||(g=f(o,"click",m(k)),b=!0)},p(e,o){t=e,2&o[0]&&y!==(y=t[1]===t[45].label?"is-active":"")&&h(n,"class",y)},d(e){e&&i(n),b=!1,g()}}}function Ce(e){let t,n,o=[],l=new Map,r=[],s=new Map,a=e[6];const u=e=>e[31].symbol;for(let t=0;t<a.length;t+=1){let n=we(e,a,t),r=u(n);l.set(r,o[t]=Re(r,n))}let f=e[7];const m=e=>e[31].symbol;for(let t=0;t<f.length;t+=1){let n=ke(e,f,t),o=m(n);s.set(o,r[t]=De(o,n))}return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=d();for(let e=0;e<r.length;e+=1)r[e].c();n=p()},m(e,l){for(let t=0;t<o.length;t+=1)o[t].m(e,l);c(e,t,l);for(let t=0;t<r.length;t+=1)r[t].m(e,l);c(e,n,l)},p(e,c){65&c[0]&&(a=e[6],o=T(o,c,u,1,e,a,l,t.parentNode,L,Re,t,we)),129&c[0]&&(f=e[7],r=T(r,c,m,1,e,f,s,n.parentNode,L,De,n,ke))},d(e){for(let t=0;t<o.length;t+=1)o[t].d(e);e&&i(t);for(let t=0;t<r.length;t+=1)r[t].d(e);e&&i(n)}}}function Ee(e){let t,n,o;function l(){e[15].call(t,e[31])}return{c(){t=a("input"),h(t,"class","input"),h(t,"type","text"),h(t,"placeholder",e[31].placeholder)},m(r,s){c(r,t,s),g(t,e[0][e[31].symbol]),n||(o=f(t,"input",l),n=!0)},p(n,o){e=n,65&o[0]&&t.value!==e[0][e[31].symbol]&&g(t,e[0][e[31].symbol])},d(e){e&&i(t),n=!1,o()}}}function ze(e){let t,n,o;function l(){e[14].call(t,e[31])}return{c(){t=a("textarea"),h(t,"class","textarea"),h(t,"placeholder",e[31].placeholder)},m(r,s){c(r,t,s),g(t,e[0][e[31].symbol]),n||(o=f(t,"input",l),n=!0)},p(n,o){e=n,65&o[0]&&g(t,e[0][e[31].symbol])},d(e){e&&i(t),n=!1,o()}}}function Re(e,t){let n,o,l,r,p,f,m=t[31].label+"";let y=function(e,t){return e[31].textarea?ze:Ee}(t),b=y(t);return{key:e,first:null,c(){n=a("div"),o=a("p"),l=u(m),r=d(),p=a("div"),b.c(),f=d(),h(o,"class","label"),h(p,"class","control"),h(n,"class","field"),this.first=n},m(e,t){c(e,n,t),s(n,o),s(o,l),s(n,r),s(n,p),b.m(p,null),s(n,f)},p(e,n){t=e,b.p(t,n)},d(e){e&&i(n),b.d()}}}function De(e,t){let n,o,l,r,p,m,y,b,v,k,w=t[31].label+"";function x(){t[16].call(m,t[31])}return{key:e,first:null,c(){n=a("div"),o=a("p"),l=u(w),r=d(),p=a("div"),m=a("input"),b=d(),h(o,"class","label"),h(m,"class","input"),h(m,"type","text"),h(m,"placeholder",y=t[31].placeholder),h(p,"class","control"),h(n,"class","field"),this.first=n},m(e,i){c(e,n,i),s(n,o),s(o,l),s(n,r),s(n,p),s(p,m),g(m,t[0].network[t[31].symbol]),s(n,b),v||(k=f(m,"input",x),v=!0)},p(e,n){t=e,129&n[0]&&m.value!==t[0].network[t[31].symbol]&&g(m,t[0].network[t[31].symbol])},d(e){e&&i(n),v=!1,k()}}}function Pe(e){let t,n=[],o=new Map,l=e[8];const r=e=>e[31].symbol;for(let t=0;t<l.length;t+=1){let s=ve(e,l,t),c=r(s);o.set(c,n[t]=je(c,s))}return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=p()},m(e,o){for(let t=0;t<n.length;t+=1)n[t].m(e,o);c(e,t,o)},p(e,s){257&s[0]&&(l=e[8],n=T(n,s,r,1,e,l,o,t.parentNode,L,je,t,ve))},d(e){for(let t=0;t<n.length;t+=1)n[t].d(e);e&&i(t)}}}function je(e,t){let n,o,l,r,p,m,b,v,k=t[31].label+"",w="number"===t[31].type&&function(e){let t,n,o,l;function r(){e[17].call(t,e[31])}return{c(){t=a("input"),h(t,"class","input"),h(t,"type","number"),h(t,"placeholder",n=e[31].placeholder)},m(n,s){c(n,t,s),g(t,e[0].master[e[31].symbol]),o||(l=f(t,"input",r),o=!0)},p(n,o){e=n,257&o[0]&&y(t.value)!==e[0].master[e[31].symbol]&&g(t,e[0].master[e[31].symbol])},d(e){e&&i(t),o=!1,l()}}}(t),x="checkbox"===t[31].type&&function(e){let t,n,o,l,r,p,m,y=e[31].label+"";function b(){return e[18](e[31])}return{c(){t=a("label"),n=a("input"),l=d(),r=u(y),h(n,"type","checkbox"),n.checked=o=e[0].master[e[31].symbol],h(t,"class","checkbox")},m(e,o){c(e,t,o),s(t,n),s(t,l),s(t,r),p||(m=f(n,"change",b),p=!0)},p(t,l){e=t,1&l[0]&&o!==(o=e[0].master[e[31].symbol])&&(n.checked=o)},d(e){e&&i(t),p=!1,m()}}}(t),$=!t[31].type&&function(e){let t,n,o,l;function r(){e[19].call(t,e[31])}return{c(){t=a("input"),h(t,"class","input"),h(t,"type","text"),h(t,"placeholder",n=e[31].placeholder)},m(n,s){c(n,t,s),g(t,e[0].master[e[31].symbol]),o||(l=f(t,"input",r),o=!0)},p(n,o){e=n,257&o[0]&&t.value!==e[0].master[e[31].symbol]&&g(t,e[0].master[e[31].symbol])},d(e){e&&i(t),o=!1,l()}}}(t);return{key:e,first:null,c(){n=a("div"),o=a("p"),l=u(k),r=d(),p=a("div"),w&&w.c(),m=d(),x&&x.c(),b=d(),$&&$.c(),v=d(),h(o,"class","label"),h(p,"class","control"),h(n,"class","field"),this.first=n},m(e,t){c(e,n,t),s(n,o),s(o,l),s(n,r),s(n,p),w&&w.m(p,null),s(p,m),x&&x.m(p,null),s(p,b),$&&$.m(p,null),s(n,v)},p(e,n){"number"===(t=e)[31].type&&w.p(t,n),"checkbox"===t[31].type&&x.p(t,n),t[31].type||$.p(t,n)},d(e){e&&i(n),w&&w.d(),x&&x.d(),$&&$.d()}}}function Ke(e){let t,n,o,l,r,u,p=[],m=new Map,y=e[0].workers;const b=e=>e[34].id;for(let t=0;t<y.length;t+=1){let n=be(e,y,t),o=b(n);m.set(o,p[t]=Le(o,n))}return{c(){t=a("div"),n=a("button"),n.innerHTML="<span>+ ADD Worker</span>",o=d(),l=a("div");for(let e=0;e<p.length;e+=1)p[e].c();h(n,"type","button"),h(n,"class","button is-primary is-light"),h(t,"class","actions"),v(t,"margin-bottom","20px"),h(l,"class","worker-container")},m(i,a){c(i,t,a),s(t,n),c(i,o,a),c(i,l,a);for(let e=0;e<p.length;e+=1)p[e].m(l,null);r||(u=f(n,"click",e[20]),r=!0)},p(e,t){257&t[0]&&(y=e[0].workers,p=T(p,t,b,1,e,y,m,l,L,Le,null,be))},d(e){e&&i(t),e&&i(o),e&&i(l);for(let e=0;e<p.length;e+=1)p[e].d();r=!1,u()}}}function Oe(e,t){let n,o,l,r,p,m,b,v=t[31].label+"",k="number"===t[31].type&&function(e){let t,n,o,l;function r(){e[22].call(t,e[31],e[35],e[36])}return{c(){t=a("input"),h(t,"class","input"),h(t,"type","number"),h(t,"placeholder",n=e[31].placeholder)},m(n,s){c(n,t,s),g(t,e[34][e[31].symbol]),o||(l=f(t,"input",r),o=!0)},p(n,o){e=n,257&o[0]&&y(t.value)!==e[34][e[31].symbol]&&g(t,e[34][e[31].symbol])},d(e){e&&i(t),o=!1,l()}}}(t),w="checkbox"===t[31].type&&function(e){let t,n,o,l,r,p,m,y=e[31].label+"";function b(){return e[23](e[34],e[31],e[35],e[36])}return{c(){t=a("label"),n=a("input"),l=d(),r=u(y),h(n,"type","checkbox"),n.checked=o=e[34][e[31].symbol],h(t,"class","checkbox")},m(e,o){c(e,t,o),s(t,n),s(t,l),s(t,r),p||(m=f(n,"change",b),p=!0)},p(t,l){e=t,1&l[0]&&o!==(o=e[34][e[31].symbol])&&(n.checked=o)},d(e){e&&i(t),p=!1,m()}}}(t),x=!t[31].type&&function(e){let t,n,o,l;function r(){e[24].call(t,e[31],e[35],e[36])}return{c(){t=a("input"),h(t,"class","input"),h(t,"type","text"),h(t,"placeholder",n=e[31].placeholder)},m(n,s){c(n,t,s),g(t,e[34][e[31].symbol]),o||(l=f(t,"input",r),o=!0)},p(n,o){e=n,257&o[0]&&t.value!==e[34][e[31].symbol]&&g(t,e[34][e[31].symbol])},d(e){e&&i(t),o=!1,l()}}}(t);return{key:e,first:null,c(){n=a("div"),o=a("p"),l=u(v),r=d(),p=a("div"),k&&k.c(),m=d(),w&&w.c(),b=d(),x&&x.c(),h(o,"class","label"),h(p,"class","control"),h(n,"class","field"),this.first=n},m(e,t){c(e,n,t),s(n,o),s(o,l),s(n,r),s(n,p),k&&k.m(p,null),s(p,m),w&&w.m(p,null),s(p,b),x&&x.m(p,null)},p(e,n){"number"===(t=e)[31].type&&k.p(t,n),"checkbox"===t[31].type&&w.p(t,n),t[31].type||x.p(t,n)},d(e){e&&i(n),k&&k.d(),w&&w.d(),x&&x.d()}}}function Le(e,t){let n,o,l,r,p,m,y,g,v,k,w=t[34].name+"",x=[],$=new Map;function S(){return t[21](t[36])}let _=t[8];const M=e=>e[31].symbol;for(let e=0;e<_.length;e+=1){let n=ge(t,_,e),o=M(n);$.set(o,x[e]=Oe(o,n))}return{key:e,first:null,c(){n=a("div"),o=a("div"),l=a("p"),r=u(w),p=d(),m=a("button"),m.innerHTML="<span>Delete</span>",y=d();for(let e=0;e<x.length;e+=1)x[e].c();g=d(),h(l,"class","is-size-5 has-text-weight-bold"),h(m,"type","button"),h(m,"class","button is-danger is-outlined"),h(o,"class","worker-header"),h(n,"class","box"),this.first=n},m(e,t){c(e,n,t),s(n,o),s(o,l),s(l,r),s(o,p),s(o,m),s(n,y);for(let e=0;e<x.length;e+=1)x[e].m(n,null);s(n,g),v||(k=f(m,"click",S),v=!0)},p(e,o){t=e,1&o[0]&&w!==(w=t[34].name+"")&&b(r,w),257&o[0]&&(_=t[8],x=T(x,o,M,1,t,_,$,n,L,Oe,g,ge))},d(e){e&&i(n);for(let e=0;e<x.length;e+=1)x[e].d();v=!1,k()}}}function Te(e){let t,n=[],o=new Map,l=e[9];const r=e=>e[31].symbol;for(let t=0;t<l.length;t+=1){let s=ye(e,l,t),c=r(s);o.set(c,n[t]=Fe(c,s))}return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=p()},m(e,o){for(let t=0;t<n.length;t+=1)n[t].m(e,o);c(e,t,o)},p(e,s){513&s[0]&&(l=e[9],n=T(n,s,r,1,e,l,o,t.parentNode,L,Fe,t,ye))},d(e){for(let t=0;t<n.length;t+=1)n[t].d(e);e&&i(t)}}}function Ie(e){let t,n,o;function l(){e[26].call(t,e[31])}return{c(){t=a("input"),h(t,"class","input"),h(t,"type","text"),h(t,"placeholder",e[31].placeholder)},m(r,s){c(r,t,s),g(t,e[0].configs[e[31].symbol]),n||(o=f(t,"input",l),n=!0)},p(n,o){e=n,513&o[0]&&t.value!==e[0].configs[e[31].symbol]&&g(t,e[0].configs[e[31].symbol])},d(e){e&&i(t),n=!1,o()}}}function Ye(e){let t,n,o;function l(){e[25].call(t,e[31])}return{c(){t=a("input"),h(t,"class","input"),h(t,"type","number"),h(t,"placeholder",e[31].placeholder)},m(r,s){c(r,t,s),g(t,e[0].configs[e[31].symbol]),n||(o=f(t,"input",l),n=!0)},p(n,o){e=n,513&o[0]&&y(t.value)!==e[0].configs[e[31].symbol]&&g(t,e[0].configs[e[31].symbol])},d(e){e&&i(t),n=!1,o()}}}function Fe(e,t){let n,o,l,r,p,f,m=t[31].label+"";let y=function(e,t){return"number"===e[31].type?Ye:Ie}(t),b=y(t);return{key:e,first:null,c(){n=a("div"),o=a("p"),l=u(m),r=d(),p=a("div"),b.c(),f=d(),h(o,"class","label"),h(p,"class","control"),h(n,"class","field"),this.first=n},m(e,t){c(e,n,t),s(n,o),s(o,l),s(n,r),s(n,p),b.m(p,null),s(n,f)},p(e,n){t=e,b.p(t,n)},d(e){e&&i(n),b.d()}}}function He(t){let n;return{c(){n=u("> Loading...")},m(e,t){c(e,n,t)},p:e,d(e){e&&i(n)}}}function Be(e){let t,n,o;return{c(){t=u("> "),n=u(e[5]),o=u(".")},m(e,l){c(e,t,l),c(e,n,l),c(e,o,l)},p(e,t){32&t[0]&&b(n,e[5])},d(e){e&&i(t),e&&i(n),e&&i(o)}}}function Ae(e){let t;return{c(){t=u("Deploy")},m(e,n){c(e,t,n)},d(e){e&&i(t)}}}function Ue(e){let t;return{c(){t=u("Back")},m(e,n){c(e,t,n)},d(e){e&&i(t)}}}function Ve(t){let n,l,r,u,p,y,b,g,k,w,x,$,S;function _(e,t){return e[2]?Me:e[3]?_e:e[4]?Se:$e}let M=_(t),N=M(t);function C(e,t){return e[3]||e[4]?Ue:Ae}let E=C(t),z=E(t);return{c(){n=a("div"),l=a("form"),r=a("h4"),r.textContent="Deploy a Kubernetes",u=d(),p=a("hr"),y=d(),N.c(),b=d(),g=a("div"),k=a("button"),z.c(),this.c=e,h(r,"class","is-size-4"),h(k,"class",w="button is-primary "+(t[2]?"is-loading":"")),h(k,"type","submit"),k.disabled=x=(t[2]||!t[0].valid)&&!(t[3]||t[4]),h(g,"class","actions"),h(l,"class","box"),v(n,"padding","15px")},m(e,o){c(e,n,o),s(n,l),s(l,r),s(l,u),s(l,p),s(l,y),N.m(l,null),s(l,b),s(l,g),s(g,k),z.m(k,null),$||(S=[f(k,"click",t[27]),f(l,"submit",m(t[11]))],$=!0)},p(e,t){M===(M=_(e))&&N?N.p(e,t):(N.d(1),N=M(e),N&&(N.c(),N.m(l,b))),E!==(E=C(e))&&(z.d(1),z=E(e),z&&(z.c(),z.m(k,null))),4&t[0]&&w!==(w="button is-primary "+(e[2]?"is-loading":""))&&h(k,"class",w),29&t[0]&&x!==(x=(e[2]||!e[0].valid)&&!(e[3]||e[4]))&&(k.disabled=x)},i:e,o:e,d(e){e&&i(n),N.d(),z.d(),$=!1,o(S)}}}function We(e,t,n){var o,l;const{events:r}=null!==(l=null===(o=window.configs)||void 0===o?void 0:o.grid3_client)&&void 0!==l?l:{},s=new le,c=[{label:"Name",symbol:"name",placeholder:"Your K8S Name."},{label:"Secret",symbol:"secret",placeholder:"Your Secret."},{label:"SSH Key",symbol:"sshKey",placeholder:"Your SSH Key."},{label:"Metadata",symbol:"metadata",placeholder:"Your Metadata."},{label:"Description",symbol:"description",placeholder:"Your Description.",textarea:!0}],i=[{label:"Network Name",symbol:"name",placeholder:"Your Network Name."},{label:"Network IP Range",symbol:"ipRange",placeholder:"Your Network IP Range."}],a=[{label:"Name",symbol:"name",placeholder:"Enter name."},{label:"Node",symbol:"node",placeholder:"Node ID.",type:"number"},{label:"CPU",symbol:"cpu",placeholder:"CPU Size.",type:"number"},{label:"Disk Size",symbol:"diskSize",placeholder:"Disk Size.",type:"number"},{label:"Public IP",symbol:"publicIp",placeholder:"",type:"checkbox"},{label:"Memory",symbol:"memory",placeholder:"Memory Size.",type:"number"},{label:"Root FS Size",symbol:"rootFsSize",placeholder:"Root File System Size.",type:"number"},{label:"Plantery",symbol:"plantery",placeholder:"",type:"checkbox"}],u=[{label:"Mnemonics",symbol:"mnemonics",placeholder:"Your Mnemonics."},{label:"Store Secret",symbol:"storeSecret",placeholder:"Your Store Secret."}];let d,p="Base",f=!1,m=!1,h=!1;return[s,p,f,m,h,d,c,i,a,u,[{label:"Base"},{label:"Master"},{label:"Workers"},{label:"Configs"}],function(){function e(e){"string"==typeof e&&n(5,d=e)}n(2,f=!0),n(3,m=!1),n(4,h=!1),r.addListener("logs",e),me(s).then((()=>n(3,m=!0))).catch((e=>{n(4,h=!0),console.log("Error",e)})).finally((()=>{n(2,f=!1),r.removeListener("logs",e)}))},function(){s.configs.networkEnv=function(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}(this),n(0,s)},e=>n(1,p=e.label),function(e){s[e.symbol]=this.value,n(0,s),n(6,c)},function(e){s[e.symbol]=this.value,n(0,s),n(6,c)},function(e){s.network[e.symbol]=this.value,n(0,s),n(7,i)},function(e){s.master[e.symbol]=y(this.value),n(0,s),n(8,a)},e=>n(0,s.master[e.symbol]=!s.master[e.symbol],s),function(e){s.master[e.symbol]=this.value,n(0,s),n(8,a)},()=>n(0,s.workers=[...s.workers,new ne],s),e=>n(0,s.workers=s.workers.filter(((t,n)=>e!==n)),s),function(e,t,o){t[o][e.symbol]=y(this.value),n(0,s),n(8,a)},(e,t,o,l)=>n(0,o[l][t.symbol]=!e[t.symbol],s),function(e,t,o){t[o][e.symbol]=this.value,n(0,s),n(8,a)},function(e){s.configs[e.symbol]=y(this.value),n(0,s),n(9,u)},function(e){s.configs[e.symbol]=this.value,n(0,s),n(9,u)},e=>{(m||h)&&(e.preventDefault(),n(3,m=!1),n(4,h=!1),n(2,f=!1))}]}!function(e,t){try{customElements.define(`tf-${e}`,t)}catch(t){console.warn(`Element with name '${e}' already defined.`)}}("kubernetes",class extends F{constructor(e){super(),this.shadowRoot.innerHTML='<style>@import url("https://cdn.jsdelivr.net/npm/bulma@0.9.3/css/bulma.min.css");.worker-container{overflow-x:hidden;overflow-y:auto;max-height:70vh;will-change:transform;padding-bottom:5rem;margin-bottom:20px}.actions,.worker-header{display:flex;justify-content:flex-end;align-items:center}.worker-header{justify-content:space-between}</style>',Y(this,{target:this.shadowRoot,props:w(this.attributes),customElement:!0},We,Ve,r,{},null,[-1,-1]),e&&e.target&&c(e.target,this,e.anchor)}})}();
